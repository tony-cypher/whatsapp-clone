{% extends 'home/base.html' %} {% load static %}
<!-- group title -->
{% block name %} {{ chat.user1.username }} and {{ chat.user2.username}}
<!-- endblock -->
{% endblock %}

<!-- block -->
{% block content %}
<main class="main-content">
  <header class="common-header">
    <div class="common-header-start">
      <button class="common-button is-only-mobile u-margin-end js-back"><span class="icon icon-back">⬅</span></button>
      <button class="u-flex js-side-info-button">
        <img class="profile-image" src="{% static 'images/profile_pic.jpeg' %}" alt="CSS Masters Israel">
        <div class="common-header-content">
          <h2 class="common-header-title">{{ chat }}</h2>
        </div>
        <p id="userCount" class="common-header-content">3 online</p>
      </button>
    </div>
    <nav class="common-nav">
      <ul class="common-nav-list">
        <li class="common-nav-item">
          <button class="common-button">
            <span class="icon">🔎</span>
          </button>
        </li>
        <li class="common-nav-item">
          <button class="common-button">
            <span class="icon icon-attach">📎</span>
          </button>
        </li>
        <!-- <li class="common-nav-item">
                  <button class="common-button u-animation-click js-side-info-button">
                      <span class="icon icon-menu" aria-label="menu"></span>
                  </button>
              </li> -->
      </ul>
    </nav>
  </header>
  <div id="chat-messages" class="messanger">
    <ol class="messanger-list">
      {% for message in messages reversed %}
      {% if message.author == request.user%}
      <li class="common-message is-you">
        <p class="common-message-content">
          {{ message.body }}
        </p>
        <span class="status is-seen">✔️✔️</span>
        <time datetime>14:11</time>
      </li>
      {% else %}
      <li class="common-message is-other">
        <p class="common-message-content">
          {{ message.body }}
        </p>
        <time datetime>14:33</time>
      </li>
      {% endif %}
      {% endfor %}
    </ol>
  </div>
  <form method="post">
    <div class="message-box">
      <button class="common-button"><span class="icon">😃</span></button>
      <input type="text" class="text-input" placeholder="Type a message" , id="message-input" />
      <button id="privateSend" type="submit" class="common-button"><span class="icon">➤</span></button>
    </div>
  </form>
</main>
<aside class="main-info u-hide">
  <header class="common-header">
    <button class="common-button js-close-main-info"><span class="icon">❌</span></button>
    <div class="common-header-content">
      <h3 class="common-header-title">Info</h3>
    </div>
  </header>
  <div class="main-info-content">
    <section class="common-box">
      <img class="main-info-image"
        src="https://images.pexels.com/photos/8998216/pexels-photo-8998216.jpeg?auto=compress&cs=tinysrgb&w=600"
        alt="CSS Masters Israel">
      <h4 class="big-title">CSS Masters Israel</h4>
      <p class="info-text">Created 6/11/2013 at 22:45</p>
    </section>
    <section class="common-box">
      <h5 class="section-title">Description</h5>
      <p>Out main channel of the comunity is on Fecbook: <a
          href="https://www.facebook.com/groups/css.masters.israel/">http://bit.ly/2Up8On5</a></p>
    </section>
    <section class="common-box">
      <h5 class="section-title">Other content</h5>
      <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Architecto odit voluptatem magnam sequi
        dolorem soluta assumenda ipsum iusto culpa velit repudiandae vitae minus minima corporis labore
        sit, molestias, a ut!</p>
    </section>
  </div>
</aside>


<!--=================================== MAIN ================================-->

{{ chat.user2.id|json_script:'user2_id' }}

<!-- userid -->
{{ chat.user1.id|json_script:'user1_id' }}
<!-- username -->
{{ request.user.username|json_script:'json-username' }}

<!-- To clear public chat errors  -->
<!-- room -->
{{ room|json_script:'json-room' }} {% endblock %}